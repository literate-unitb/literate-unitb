module Document.Tests.TrainStationSets where

import Document.Tests.Suite


    -- Libraries

import Tests.UnitTest

import Utilities.Format

test_case :: TestCase
test_case = test

test :: TestCase
test = test_cases
            "train station example, with sets"
            [ POCase "verify machine m0 (sets)" (verify path0 0) result0
            , POCase "verify machine m1 (sets)" (verify path0 1) result1
            , POCase "verify machine m2 (sets)" (verify path0 2) result2
            , Case "m2, enablement proof obligation" case6 result6
            , Case "m2, transient proof obligation, no dummy" case7 result7
            , Case "m2, safety property of schedule replacement" case8 result8
            , POCase "verify machine m3 (sets)" (verify path0 3) result5
            , Case "type checking of boolean expressions" case3 result3
            , Case "verify machine m3 error (wandering free variable)" case4 result4
            , StringCase "witness well definedness PO" case9 result9
            ]

result0 :: String
result0 = unlines
    [ "  o  m0/INIT/WD"
    , "  o  m0/INV/WD"
    , "  o  m0/TR/m0:tr0/t@param"
    , "  o  m0/m0:enter/FIS/in@prime"
    , "  o  m0/m0:enter/SCH"
    , "  o  m0/m0:enter/WD/ACT/a1"
    , "  o  m0/m0:enter/WD/C_SCH"
    , "  o  m0/m0:enter/WD/F_SCH"
    , "  o  m0/m0:enter/WD/GRD"
    , "  o  m0/m0:leave/FIS/in@prime"
    , "  o  m0/m0:leave/SCH"
    , "  o  m0/m0:leave/SCH/m0/0/REF/weaken"
    , "  o  m0/m0:leave/WD/ACT/lv:a0"
    , "  o  m0/m0:leave/WD/C_SCH"
    , "  o  m0/m0:leave/WD/F_SCH"
    , "  o  m0/m0:leave/WD/GRD"
    , "  o  m0/m0:prog0/PROG/WD/lhs"
    , "  o  m0/m0:prog0/PROG/WD/rhs"
    , "  o  m0/m0:prog0/REF/discharge/tr/lhs"
    , "  o  m0/m0:prog0/REF/discharge/tr/rhs"
    , "  o  m0/m0:tr0/TR/WD"
    , "passed 21 / 21"
    ]

result1 :: String
result1 = unlines
    [ "  o  m1/INIT/FIS/in"
    , "  o  m1/INIT/FIS/loc"
    , "  o  m1/INIT/INV/inv0"
    , "  o  m1/INIT/WD"
    , "  o  m1/INV/WD"
    , "  o  m1/TR/m1:tr0/t@param"
    , "  o  m1/TR/m1:tr1/WFIS/t/t@prime"
    , "  o  m1/TR/m1:tr1/m1:movein/EN"
    , "  o  m1/TR/m1:tr1/m1:movein/NEG"
    , "  o  m1/m0:enter/FIS/in@prime"
    , "  o  m1/m0:enter/FIS/loc@prime"
    , "  o  m1/m0:enter/INV/inv0"
    , "  o  m1/m0:enter/SAF/m1:saf0"
    , "  o  m1/m0:enter/SAF/m1:saf1"
    , "  o  m1/m0:enter/SAF/m1:saf2"
    , "  o  m1/m0:enter/SAF/m1:saf3"
    , "  o  m1/m0:enter/SCH"
    , "  o  m1/m0:enter/WD/ACT/a3"
    , "  o  m1/m0:enter/WD/C_SCH"
    , "  o  m1/m0:enter/WD/F_SCH"
    , "  o  m1/m0:enter/WD/GRD"
    , "  o  m1/m0:leave/FIS/in@prime"
    , "  o  m1/m0:leave/FIS/loc@prime"
    , "  o  m1/m0:leave/INV/inv0"
    , "  o  m1/m0:leave/SAF/m1:saf0"
    , "  o  m1/m0:leave/SAF/m1:saf1"
    , "  o  m1/m0:leave/SAF/m1:saf2"
    , "  o  m1/m0:leave/SAF/m1:saf3"
    , "  o  m1/m0:leave/SCH"
    , "  o  m1/m0:leave/SCH/m1/0/REF/delay/prog/lhs"
    , "  o  m1/m0:leave/SCH/m1/0/REF/delay/prog/rhs"
    , "  o  m1/m0:leave/SCH/m1/0/REF/delay/saf/lhs"
    , "  o  m1/m0:leave/SCH/m1/0/REF/delay/saf/rhs"
    , "  o  m1/m0:leave/WD/ACT/lv:a2"
    , "  o  m1/m0:leave/WD/C_SCH"
    , "  o  m1/m0:leave/WD/F_SCH"
    , "  o  m1/m0:leave/WD/GRD"
    , "  o  m1/m1:movein/FIS/in@prime"
    , "  o  m1/m1:movein/FIS/loc@prime"
    , "  o  m1/m1:movein/INV/inv0"
    , "  o  m1/m1:movein/SAF/m1:saf0"
    , "  o  m1/m1:movein/SAF/m1:saf1"
    , "  o  m1/m1:movein/SAF/m1:saf2"
    , "  o  m1/m1:movein/SAF/m1:saf3"
    , "  o  m1/m1:movein/SCH"
    , "  o  m1/m1:movein/SCH/m1/0/REF/weaken"
    , "  o  m1/m1:movein/WD/ACT/mi:a2"
    , "  o  m1/m1:movein/WD/C_SCH"
    , "  o  m1/m1:movein/WD/F_SCH"
    , "  o  m1/m1:movein/WD/GRD"
    , "  o  m1/m1:moveout/FIS/in@prime"
    , "  o  m1/m1:moveout/FIS/loc@prime"
    , "  o  m1/m1:moveout/INV/inv0"
    , "  o  m1/m1:moveout/SAF/m1:saf0"
    , "  o  m1/m1:moveout/SAF/m1:saf1"
    , "  o  m1/m1:moveout/SAF/m1:saf2"
    , "  o  m1/m1:moveout/SAF/m1:saf3"
    , "  o  m1/m1:moveout/SCH"
    , "  o  m1/m1:moveout/SCH/m1/0/REF/weaken"
    , "  o  m1/m1:moveout/WD/ACT/a2"
    , "  o  m1/m1:moveout/WD/C_SCH"
    , "  o  m1/m1:moveout/WD/F_SCH"
    , "  o  m1/m1:moveout/WD/GRD"
    , "  o  m1/m1:prog0/PROG/WD/lhs"
    , "  o  m1/m1:prog0/PROG/WD/rhs"
    , "  o  m1/m1:prog0/REF/disjunction/lhs"
    , "  o  m1/m1:prog0/REF/disjunction/rhs"
    , "  o  m1/m1:prog1/PROG/WD/lhs"
    , "  o  m1/m1:prog1/PROG/WD/rhs"
    , "  o  m1/m1:prog1/REF/transitivity/lhs"
    , "  o  m1/m1:prog1/REF/transitivity/mhs/m1:prog4/m1:prog3"
    , "  o  m1/m1:prog1/REF/transitivity/rhs"
    , "  o  m1/m1:prog2/PROG/WD/lhs"
    , "  o  m1/m1:prog2/PROG/WD/rhs"
    , "  o  m1/m1:prog2/REF/implication"
    , "  o  m1/m1:prog3/PROG/WD/lhs"
    , "  o  m1/m1:prog3/PROG/WD/rhs"
    , "  o  m1/m1:prog3/REF/discharge/saf/lhs"
    , "  o  m1/m1:prog3/REF/discharge/saf/rhs"
    , "  o  m1/m1:prog3/REF/discharge/tr"
    , "  o  m1/m1:prog4/PROG/WD/lhs"
    , "  o  m1/m1:prog4/PROG/WD/rhs"
    , "  o  m1/m1:prog4/REF/discharge/saf/lhs"
    , "  o  m1/m1:prog4/REF/discharge/saf/rhs"
    , "  o  m1/m1:prog4/REF/discharge/tr"
    , "  o  m1/m1:saf0/SAF/WD/lhs"
    , "  o  m1/m1:saf0/SAF/WD/rhs"
    , "  o  m1/m1:saf1/SAF/WD/lhs"
    , "  o  m1/m1:saf1/SAF/WD/rhs"
    , "  o  m1/m1:saf2/SAF/WD/lhs"
    , "  o  m1/m1:saf2/SAF/WD/rhs"
    , "  o  m1/m1:saf3/SAF/WD/lhs"
    , "  o  m1/m1:saf3/SAF/WD/rhs"
    , "  o  m1/m1:tr0/TR/WD"
    , "  o  m1/m1:tr1/TR/WD"
    , "  o  m1/m1:tr1/TR/WD/witness/t"
    , "passed 96 / 96"
    ]

result2 :: String
result2 = unlines
    [ "  o  m2/INIT/FIS/in"
    , "  o  m2/INIT/FIS/loc"
    , "  o  m2/INIT/INV/m2:inv0"
    , "  o  m2/INIT/WD"
    , "  o  m2/INV/WD"
    , "  o  m2/TR/m2:tr0/t@param"
    , "  o  m2/TR/m2:tr1/WFIS/t/t@prime"
    , "  o  m2/TR/m2:tr1/leadsto/lhs"
    , "  o  m2/TR/m2:tr1/leadsto/rhs"
    , "  o  m2/TR/m2:tr1/m1:moveout/EN"
    , "  o  m2/TR/m2:tr1/m1:moveout/NEG"
    , "  o  m2/m0:enter/FIS/in@prime"
    , "  o  m2/m0:enter/FIS/loc@prime"
    , "  o  m2/m0:enter/INV/m2:inv0"
    , "  o  m2/m0:enter/SAF/m2:saf0"
    , "  o  m2/m0:enter/SAF/m2:saf1"
    , "  o  m2/m0:enter/SAF/m2:saf2"
    , "  o  m2/m0:enter/SCH"
    , "  o  m2/m0:enter/WD/C_SCH"
    , "  o  m2/m0:enter/WD/F_SCH"
    , "  o  m2/m0:enter/WD/GRD"
    , "  o  m2/m0:leave/FIS/in@prime"
    , "  o  m2/m0:leave/FIS/loc@prime"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp3/easy (332,26)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp4/easy (333,25)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp5/easy (334,25)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp6/easy (335,25)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp7/goal (339,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp7/hypotheses (339,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp7/relation (339,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp7/step (341,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp7/step (343,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp7/step (345,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp8/goal (350,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp8/hypotheses (350,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp8/relation (350,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp8/step (352,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp8/step (354,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/assertion/hyp8/step (356,2)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/main goal/goal (319,1)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/main goal/hypotheses (319,1)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/main goal/relation (319,1)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/main goal/step (321,1)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/main goal/step (323,1)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/main goal/step (326,1)"
    , "  o  m2/m0:leave/INV/m2:inv0/assertion/goal0/new assumption (302,51)"
    , "  o  m2/m0:leave/INV/m2:inv0/main goal/easy (362,30)"
    , "  o  m2/m0:leave/SAF/m2:saf0"
    , "  o  m2/m0:leave/SAF/m2:saf1"
    , "  o  m2/m0:leave/SAF/m2:saf2"
    , "  o  m2/m0:leave/SCH"
    , "  o  m2/m0:leave/WD/C_SCH"
    , "  o  m2/m0:leave/WD/F_SCH"
    , "  o  m2/m0:leave/WD/GRD"
    , "  o  m2/m1:movein/FIS/in@prime"
    , "  o  m2/m1:movein/FIS/loc@prime"
    , "  o  m2/m1:movein/INV/m2:inv0"
    , "  o  m2/m1:movein/SAF/m2:saf0"
    , "  o  m2/m1:movein/SAF/m2:saf1"
    , "  o  m2/m1:movein/SAF/m2:saf2"
    , "  o  m2/m1:movein/SCH"
    , "  o  m2/m1:movein/SCH/m2/0/REF/delay/prog/lhs"
    , "  o  m2/m1:movein/SCH/m2/0/REF/delay/prog/rhs"
    , "  o  m2/m1:movein/SCH/m2/0/REF/delay/saf/lhs"
    , "  o  m2/m1:movein/SCH/m2/0/REF/delay/saf/rhs"
    , "  o  m2/m1:movein/WD/C_SCH"
    , "  o  m2/m1:movein/WD/F_SCH"
    , "  o  m2/m1:movein/WD/GRD"
    , "  o  m2/m1:moveout/FIS/in@prime"
    , "  o  m2/m1:moveout/FIS/loc@prime"
    , "  o  m2/m1:moveout/INV/m2:inv0"
    , "  o  m2/m1:moveout/SAF/m2:saf0"
    , "  o  m2/m1:moveout/SAF/m2:saf1"
    , "  o  m2/m1:moveout/SAF/m2:saf2"
    , "  o  m2/m1:moveout/SCH"
    , "  o  m2/m1:moveout/SCH/m2/0/REF/replace/prog/lhs"
    , "  o  m2/m1:moveout/SCH/m2/0/REF/replace/prog/rhs"
    , "  o  m2/m1:moveout/SCH/m2/0/REF/replace/str"
    , "  o  m2/m1:moveout/WD/C_SCH"
    , "  o  m2/m1:moveout/WD/F_SCH"
    , "  o  m2/m1:moveout/WD/GRD"
    , "  o  m2/m2:prog0/PROG/WD/lhs"
    , "  o  m2/m2:prog0/PROG/WD/rhs"
    , "  o  m2/m2:prog0/REF/trading/lhs"
    , "  o  m2/m2:prog0/REF/trading/rhs"
    , "  o  m2/m2:prog1/PROG/WD/lhs"
    , "  o  m2/m2:prog1/PROG/WD/rhs"
    , "  o  m2/m2:prog1/REF/trading/lhs"
    , "  o  m2/m2:prog1/REF/trading/rhs"
    , "  o  m2/m2:prog2/PROG/WD/lhs"
    , "  o  m2/m2:prog2/PROG/WD/rhs"
    , "  o  m2/m2:prog2/REF/disjunction/lhs"
    , "  o  m2/m2:prog2/REF/disjunction/rhs"
    , "  o  m2/m2:prog3/PROG/WD/lhs"
    , "  o  m2/m2:prog3/PROG/WD/rhs"
    , "  o  m2/m2:prog3/REF/discharge/saf/lhs"
    , "  o  m2/m2:prog3/REF/discharge/saf/rhs"
    , "  o  m2/m2:prog3/REF/discharge/tr"
    , "  o  m2/m2:prog4/PROG/WD/lhs"
    , "  o  m2/m2:prog4/PROG/WD/rhs"
    , "  o  m2/m2:prog4/REF/monotonicity/lhs"
    , "  o  m2/m2:prog4/REF/monotonicity/rhs"
    , "  o  m2/m2:prog5/PROG/WD/lhs"
    , "  o  m2/m2:prog5/PROG/WD/rhs"
    , "  o  m2/m2:prog5/REF/disjunction/lhs"
    , "  o  m2/m2:prog5/REF/disjunction/rhs"
    , "  o  m2/m2:prog6/PROG/WD/lhs"
    , "  o  m2/m2:prog6/PROG/WD/rhs"
    , "  o  m2/m2:prog6/REF/disjunction/lhs"
    , "  o  m2/m2:prog6/REF/disjunction/rhs"
    , "  o  m2/m2:prog7/PROG/WD/lhs"
    , "  o  m2/m2:prog7/PROG/WD/rhs"
    , "  o  m2/m2:prog7/REF/discharge/saf/lhs"
    , "  o  m2/m2:prog7/REF/discharge/saf/rhs"
    , "  o  m2/m2:prog7/REF/discharge/tr"
    , "  o  m2/m2:saf0/SAF/WD/lhs"
    , "  o  m2/m2:saf0/SAF/WD/rhs"
    , "  o  m2/m2:saf1/SAF/WD/lhs"
    , "  o  m2/m2:saf1/SAF/WD/rhs"
    , "  o  m2/m2:saf2/SAF/WD/lhs"
    , "  o  m2/m2:saf2/SAF/WD/rhs"
    , "  o  m2/m2:tr0/TR/WD"
    , "  o  m2/m2:tr1/TR/WD"
    , "  o  m2/m2:tr1/TR/WD/witness/t"
    , "passed 124 / 124"
    ]

path0 :: String
path0 = "Tests/train-station-set.tex"

result3 :: String
result3 = unlines
    [ "error (295,48): type error: expression has type incompatible \
      \with its expected type:"
    , "  expression: ent"
    , "  actual type: \\Blk"
    , "  expected type: \\Bool "
    , ""
    ]

path3 :: String
path3 = "Tests/train-station-set-err0.tex"

case3 :: IO String
case3 = find_errors path3

path4 :: String
path4 = "Tests/train-station-set-err1.tex"

case4 :: IO String
case4 = find_errors path4

result4 :: String
result4 = format "error (494,25): {0}" $ 
            unlines 
                [ "unrecognized term: t"
                , "Perhaps you meant:"
                , "ent (variable)"
                , "ext (variable)" 
                , "" ]

result5 :: String
result5 = unlines
    [ "  o  m3/INIT/FIS/in"
    , "  o  m3/INIT/FIS/isgn"
    , "  o  m3/INIT/FIS/loc"
    , "  o  m3/INIT/FIS/osgn"
    , "  o  m3/INIT/INV/m3:inv0"
    , "  o  m3/INIT/INV/m3:inv1"
    , "  o  m3/INIT/INV/m3:inv2"
    , "  o  m3/INIT/INV/m3:inv3"
    , "  o  m3/INIT/WD"
    , "  o  m3/INV/WD"
    , "  o  m3/TR/m3:tr0/WFIS/p/p@prime"
    , " xxx m3/TR/m3:tr0/m3:ctr:plf/EN"
    , "  o  m3/TR/m3:tr0/m3:ctr:plf/NEG"
    , "  o  m3/m0:enter/FIS/in@prime"
    , "  o  m3/m0:enter/FIS/isgn@prime"
    , "  o  m3/m0:enter/FIS/loc@prime"
    , "  o  m3/m0:enter/FIS/osgn@prime"
    , "  o  m3/m0:enter/INV/m3:inv0"
    , "  o  m3/m0:enter/INV/m3:inv1"
    , "  o  m3/m0:enter/INV/m3:inv2"
    , "  o  m3/m0:enter/INV/m3:inv3"
    , "  o  m3/m0:enter/SAF/m3:saf0"
    , "  o  m3/m0:enter/SAF/m3:saf1"
    , "  o  m3/m0:enter/SCH"
    , "  o  m3/m0:enter/WD/ACT/m3:ent:act0"
    , "  o  m3/m0:enter/WD/ACT/m3:ent:act1"
    , "  o  m3/m0:enter/WD/C_SCH"
    , "  o  m3/m0:enter/WD/F_SCH"
    , "  o  m3/m0:enter/WD/GRD"
    , "  o  m3/m0:leave/FIS/in@prime"
    , "  o  m3/m0:leave/FIS/isgn@prime"
    , "  o  m3/m0:leave/FIS/loc@prime"
    , "  o  m3/m0:leave/FIS/osgn@prime"
    , "  o  m3/m0:leave/INV/m3:inv0"
    , "  o  m3/m0:leave/INV/m3:inv1"
    , "  o  m3/m0:leave/INV/m3:inv2"
    , "  o  m3/m0:leave/INV/m3:inv3"
    , "  o  m3/m0:leave/SAF/m3:saf0"
    , "  o  m3/m0:leave/SAF/m3:saf1"
    , "  o  m3/m0:leave/SCH"
    , "  o  m3/m0:leave/WD/ACT/m3:ext:act0"
    , "  o  m3/m0:leave/WD/ACT/m3:ext:act1"
    , "  o  m3/m0:leave/WD/C_SCH"
    , "  o  m3/m0:leave/WD/F_SCH"
    , "  o  m3/m0:leave/WD/GRD"
    , "  o  m3/m1:movein/FIS/in@prime"
    , "  o  m3/m1:movein/FIS/isgn@prime"
    , "  o  m3/m1:movein/FIS/loc@prime"
    , "  o  m3/m1:movein/FIS/osgn@prime"
    , "  o  m3/m1:movein/INV/m3:inv0"
    , "  o  m3/m1:movein/INV/m3:inv1"
    , "  o  m3/m1:movein/INV/m3:inv2"
    , "  o  m3/m1:movein/INV/m3:inv3"
    , "  o  m3/m1:movein/SAF/m3:saf0"
    , "  o  m3/m1:movein/SAF/m3:saf1"
    , "  o  m3/m1:movein/SCH"
    , "  o  m3/m1:movein/WD/ACT/m3:mi:act0"
    , "  o  m3/m1:movein/WD/ACT/m3:mi:act1"
    , "  o  m3/m1:movein/WD/C_SCH"
    , "  o  m3/m1:movein/WD/F_SCH"
    , "  o  m3/m1:movein/WD/GRD"
    , "  o  m3/m1:moveout/FIS/in@prime"
    , "  o  m3/m1:moveout/FIS/isgn@prime"
    , "  o  m3/m1:moveout/FIS/loc@prime"
    , "  o  m3/m1:moveout/FIS/osgn@prime"
    , "  o  m3/m1:moveout/GRD/m3/0/REF/grd"
    , "  o  m3/m1:moveout/INV/m3:inv0"
    , "  o  m3/m1:moveout/INV/m3:inv1"
    , "  o  m3/m1:moveout/INV/m3:inv2"
    , "  o  m3/m1:moveout/INV/m3:inv3"
    , "  o  m3/m1:moveout/SAF/m3:saf0"
    , "  o  m3/m1:moveout/SAF/m3:saf1"
    , "  o  m3/m1:moveout/SCH"
    , "  o  m3/m1:moveout/SCH/m3/1/REF/replace/prog/lhs"
    , "  o  m3/m1:moveout/SCH/m3/1/REF/replace/prog/rhs"
    , "  o  m3/m1:moveout/SCH/m3/1/REF/replace/str"
    , "  o  m3/m1:moveout/SCH/m3/2/REF/delay/prog/lhs"
    , "  o  m3/m1:moveout/SCH/m3/2/REF/delay/prog/rhs"
    , "  o  m3/m1:moveout/SCH/m3/2/REF/delay/saf/lhs"
    , " xxx m3/m1:moveout/SCH/m3/2/REF/delay/saf/rhs"
    , "  o  m3/m1:moveout/WD/ACT/m3:mo:act0"
    , "  o  m3/m1:moveout/WD/ACT/m3:mo:act1"
    , "  o  m3/m1:moveout/WD/C_SCH"
    , "  o  m3/m1:moveout/WD/F_SCH"
    , "  o  m3/m1:moveout/WD/GRD"
    , "  o  m3/m3:ctr:plf/FIS/in@prime"
    , "  o  m3/m3:ctr:plf/FIS/loc@prime"
    , "  o  m3/m3:ctr:plf/FIS/osgn@prime"
    , " xxx m3/m3:ctr:plf/INV/m3:inv0"
    , " xxx m3/m3:ctr:plf/INV/m3:inv1"
    , " xxx m3/m3:ctr:plf/INV/m3:inv2"
    , " xxx m3/m3:ctr:plf/INV/m3:inv3"
    , "  o  m3/m3:ctr:plf/SAF/m3:saf0"
    , "  o  m3/m3:ctr:plf/SAF/m3:saf1"
    , "  o  m3/m3:ctr:plf/SCH"
    , "  o  m3/m3:ctr:plf/WD/ACT/m3:cp:act0"
    , "  o  m3/m3:ctr:plf/WD/C_SCH"
    , "  o  m3/m3:ctr:plf/WD/F_SCH"
    , "  o  m3/m3:ctr:plf/WD/GRD"
    , "  o  m3/m3:prog0/PROG/WD/lhs"
    , "  o  m3/m3:prog0/PROG/WD/rhs"
    , "  o  m3/m3:prog0/REF/discharge/saf/lhs"
    , "  o  m3/m3:prog0/REF/discharge/saf/rhs"
    , "  o  m3/m3:prog0/REF/discharge/tr"
    , "  o  m3/m3:saf0/SAF/WD/lhs"
    , "  o  m3/m3:saf0/SAF/WD/rhs"
    , "  o  m3/m3:saf1/SAF/WD/lhs"
    , "  o  m3/m3:saf1/SAF/WD/rhs"
    , "  o  m3/m3:tr0/TR/WD"
    , "  o  m3/m3:tr0/TR/WD/witness/p"
    , "passed 104 / 110"
    ]

case6 :: IO String
case6 = proof_obligation path0 "m2/TR/m2:tr1/m1:moveout/EN" 2

result6 :: String
result6 = unlines
    [ "(declare-datatypes (a) ( (Maybe (Just (fromJust a)) Nothing) ))"
    , "(declare-datatypes () ( (Null null) ))"
    , "(declare-datatypes (a b) ( (Pair (pair (first a) (second b))) ))"
    , "(declare-sort sl@Blk 0)"
    , "; comment: we don't need to declare the sort Bool"
    , "; comment: we don't need to declare the sort Int"
    , "; comment: we don't need to declare the sort Real"
    , "(declare-sort sl@Train 0)"
    , "(define-sort pfun (a b) (Array a (Maybe b)))"
    , "(define-sort set (a) (Array a Bool))"
    , "(declare-const b sl@Blk)"
    , "(declare-const ent sl@Blk)"
    , "(declare-const ext sl@Blk)"
    , "(declare-const in (set sl@Train))"
    , "(declare-const in@prime (set sl@Train))"
    , "(declare-const loc (pfun sl@Train sl@Blk))"
    , "(declare-const loc@prime (pfun sl@Train sl@Blk))"
    , "(declare-const plf (set sl@Blk))"
    , "(declare-const t sl@Train)"
    , "(declare-fun apply@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk)"
    , "               sl@Train )"
    , "             sl@Blk)"
    , "(declare-fun dom-rest@@sl@Train@@sl@Blk"
    , "             ( (set sl@Train)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun dom-subt@@sl@Train@@sl@Blk"
    , "             ( (set sl@Train)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun dom@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             (set sl@Train))"
    , "(declare-fun empty-fun@@sl@Train@@sl@Blk"
    , "             ()"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun finite@@sl@Blk ( (set sl@Blk) ) Bool)"
    , "(declare-fun finite@@sl@Train ( (set sl@Train) ) Bool)"
    , "(declare-fun injective@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             Bool)"
    , "(declare-fun mk-fun@@sl@Train@@sl@Blk"
    , "             (sl@Train sl@Blk)"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun mk-set@@sl@Blk (sl@Blk) (set sl@Blk))"
    , "(declare-fun mk-set@@sl@Train (sl@Train) (set sl@Train))"
    , "(declare-fun ovl@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun ran@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             (set sl@Blk))"
    , "(declare-fun t@param () sl@Train)"
    , "(define-fun sl@Blk"
    , "            ()"
    , "            (set sl@Blk)"
    , "            ( (as const (set sl@Blk))"
    , "              true ))"
    , "(define-fun sl@Train"
    , "            ()"
    , "            (set sl@Train)"
    , "            ( (as const (set sl@Train))"
    , "              true ))"
    , "(define-fun compl@@sl@Blk"
    , "            ( (s1 (set sl@Blk)) )"
    , "            (set sl@Blk)"
    , "            ((_ map not) s1))"
    , "(define-fun compl@@sl@Train"
    , "            ( (s1 (set sl@Train)) )"
    , "            (set sl@Train)"
    , "            ((_ map not) s1))"
    , "(define-fun elem@@sl@Blk"
    , "            ( (x sl@Blk)"
    , "              (s1 (set sl@Blk)) )"
    , "            Bool"
    , "            (select s1 x))"
    , "(define-fun elem@@sl@Train"
    , "            ( (x sl@Train)"
    , "              (s1 (set sl@Train)) )"
    , "            Bool"
    , "            (select s1 x))"
    , "(define-fun empty-set@@sl@Blk"
    , "            ()"
    , "            (set sl@Blk)"
    , "            ( (as const (set sl@Blk))"
    , "              false ))"
    , "(define-fun empty-set@@sl@Train"
    , "            ()"
    , "            (set sl@Train)"
    , "            ( (as const (set sl@Train))"
    , "              false ))"
    , "(define-fun set-diff@@sl@Blk"
    , "            ( (s1 (set sl@Blk))"
    , "              (s2 (set sl@Blk)) )"
    , "            (set sl@Blk)"
    , "            (intersect s1 ((_ map not) s2)))"
    , "(define-fun set-diff@@sl@Train"
    , "            ( (s1 (set sl@Train))"
    , "              (s2 (set sl@Train)) )"
    , "            (set sl@Train)"
    , "            (intersect s1 ((_ map not) s2)))"
    , "(define-fun st-subset@@sl@Blk"
    , "            ( (s1 (set sl@Blk))"
    , "              (s2 (set sl@Blk)) )"
    , "            Bool"
    , "            (and (subset s1 s2) (not (= s1 s2))))"
    , "(define-fun st-subset@@sl@Train"
    , "            ( (s1 (set sl@Train))"
    , "              (s2 (set sl@Train)) )"
    , "            Bool"
    , "            (and (subset s1 s2) (not (= s1 s2))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                      (union (dom@@sl@Train@@sl@Blk f1)"
    , "                             (dom@@sl@Train@@sl@Blk f2)))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2)) ))))"
    , "(assert (= (dom@@sl@Train@@sl@Blk empty-fun@@sl@Train@@sl@Blk)"
    , "           empty-set@@sl@Train))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                      (mk-set@@sl@Train x))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f2))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                          (apply@@sl@Train@@sl@Blk f2 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                            (not (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f2))))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))"
    , "                      (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (apply@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y) x)"
    , "                      y)"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (elem@@sl@Train x s1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x"
    , "                                       (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (x sl@Train) )"
    , "                (! (= (select empty-fun@@sl@Train@@sl@Blk x)"
    , "                      (as Nothing (Maybe sl@Blk)))"
    , "                   :pattern"
    , "                   ( (select empty-fun@@sl@Train@@sl@Blk x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (x2 sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (select (mk-fun@@sl@Train@@sl@Blk x y) x2)"
    , "                      (ite (= x x2) (Just y) (as Nothing (Maybe sl@Blk))))"
    , "                   :pattern"
    , "                   ( (select (mk-fun@@sl@Train@@sl@Blk x y) x2) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (select (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                      (ite (= (select f2 x) (as Nothing (Maybe sl@Blk)))"
    , "                           (select f1 x)"
    , "                           (select f2 x)))"
    , "                   :pattern"
    , "                   ( (select (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (select (dom@@sl@Train@@sl@Blk f1) x)"
    , "                      (not (= (select f1 x) (as Nothing (Maybe sl@Blk)))))"
    , "                   :pattern"
    , "                   ( (select (dom@@sl@Train@@sl@Blk f1) x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk)"
    , "                  (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                           (= (apply@@sl@Train@@sl@Blk f1 x) y))"
    , "                      (= (select f1 x) (Just y)))"
    , "                   :pattern"
    , "                   ())))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x2 sl@Train)"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (not (= x x2))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                                   x2)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x2)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                              x2) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                               x)"
    , "                      y)"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                              x) ))))"
    , "(assert (= (ran@@sl@Train@@sl@Blk empty-fun@@sl@Train@@sl@Blk)"
    , "           empty-set@@sl@Blk))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (y sl@Blk) )"
    , "                (! (= (elem@@sl@Blk y (ran@@sl@Train@@sl@Blk f1))"
    , "                      (exists ( (x sl@Train) )"
    , "                              (and true"
    , "                                   (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                                        (= (apply@@sl@Train@@sl@Blk f1 x) y)))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk y (ran@@sl@Train@@sl@Blk f1)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (ran@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                      (mk-set@@sl@Blk y))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (subset (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                           (union (ran@@sl@Train@@sl@Blk f1)"
    , "                                  (ran@@sl@Train@@sl@Blk f2)))"
    , "                   :pattern"
    , "                   ( (subset (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                             (union (ran@@sl@Train@@sl@Blk f1)"
    , "                                    (ran@@sl@Train@@sl@Blk f2))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (injective@@sl@Train@@sl@Blk f1)"
    , "                      (forall ( (x sl@Train)"
    , "                                (x2 sl@Train) )"
    , "                              (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                                       (elem@@sl@Train x2 (dom@@sl@Train@@sl@Blk f1)))"
    , "                                  (=> (= (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                         (apply@@sl@Train@@sl@Blk f1 x2))"
    , "                                      (= x x2)))))"
    , "                   :pattern"
    , "                   ( (injective@@sl@Train@@sl@Blk f1) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (injective@@sl@Train@@sl@Blk f1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1))"
    , "                          (set-diff@@sl@Blk (ran@@sl@Train@@sl@Blk f1)"
    , "                                            (mk-set@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (x2 sl@Train) )"
    , "                (! (=> (and (not (= x x2))"
    , "                            (elem@@sl@Train x2 (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                                   x2)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x2)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                              x2) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                                   x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                              x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (and (not (elem@@sl@Train x s1))"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (and (elem@@sl@Train x s1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk f1)))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk f1)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (elem@@sl@Train x"
    , "                                       (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (elem@@sl@Train x (intersect (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                            (injective@@sl@Train@@sl@Blk f1))"
    , "                       (= (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y)))"
    , "                          (union (set-diff@@sl@Blk (ran@@sl@Train@@sl@Blk f1)"
    , "                                                   (mk-set@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                                 (mk-set@@sl@Blk y))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (not (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y)))"
    , "                          (union (ran@@sl@Train@@sl@Blk f1) (mk-set@@sl@Blk y))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))) ))))"
    , "(assert (forall ( (x sl@Blk)"
    , "                  (y sl@Blk) )"
    , "                (! (= (elem@@sl@Blk x (mk-set@@sl@Blk y)) (= x y))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk x (mk-set@@sl@Blk y)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Train) )"
    , "                (! (= (elem@@sl@Train x (mk-set@@sl@Train y)) (= x y))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Train x (mk-set@@sl@Train y)) ))))"
    , "(assert (= t@param t))"
    , "; asm0"
    , "(assert (and (not (elem@@sl@Blk ext plf)) (not (= ext ent))))"
    , "; asm1"
    , "(assert (forall ( (b sl@Blk) )"
    , "                (! (= (elem@@sl@Blk b sl@Blk)"
    , "                      (or (elem@@sl@Blk b plf) (= b ent) (= b ext)))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk b sl@Blk) ))))"
    , "; asm2"
    , "(assert (exists ( (b sl@Blk) ) (and true (elem@@sl@Blk b plf))))"
    , "; asm3"
    , "(assert (not (elem@@sl@Blk ent plf)))"
    , "; asm7"
    , "(assert (and (= (union (mk-set@@sl@Blk ext) plf)"
    , "                (compl@@sl@Blk (mk-set@@sl@Blk ent)))"
    , "             (= (union (mk-set@@sl@Blk ent) plf)"
    , "                (compl@@sl@Blk (mk-set@@sl@Blk ext)))"
    , "             (= (union (mk-set@@sl@Blk ext) (mk-set@@sl@Blk ent))"
    , "                (compl@@sl@Blk plf))))"
    , "; inv0"
    , "(assert (= (dom@@sl@Train@@sl@Blk loc) in))"
    , "; m2:inv0"
    , "(assert (injective@@sl@Train@@sl@Blk loc))"
    , "(assert (not (=> (and (elem@@sl@Blk b plf)"
    , "                      (elem@@sl@Train t in)"
    , "                      (= (apply@@sl@Train@@sl@Blk loc t) b))"
    , "                 (and (elem@@sl@Train t@param in)"
    , "                      (elem@@sl@Blk (apply@@sl@Train@@sl@Blk loc t@param) plf)))))"
    , "(check-sat-using (or-else (then qe smt)"
    , "                          (then simplify smt)"
    , "                          (then skip smt)"
    , "                          (then (using-params simplify :expand-power true) smt)))"
    ]

case7 :: IO String
case7 = proof_obligation path0 "m2/TR/m2:tr0/t@param" 2

result7 :: String
result7 = unlines
    [ "(declare-datatypes (a) ( (Maybe (Just (fromJust a)) Nothing) ))"
    , "(declare-datatypes () ( (Null null) ))"
    , "(declare-datatypes (a b) ( (Pair (pair (first a) (second b))) ))"
    , "(declare-sort sl@Blk 0)"
    , "; comment: we don't need to declare the sort Bool"
    , "; comment: we don't need to declare the sort Int"
    , "; comment: we don't need to declare the sort Real"
    , "(declare-sort sl@Train 0)"
    , "(define-sort pfun (a b) (Array a (Maybe b)))"
    , "(define-sort set (a) (Array a Bool))"
    , "(declare-const ent sl@Blk)"
    , "(declare-const ext sl@Blk)"
    , "(declare-const in (set sl@Train))"
    , "(declare-const in@prime (set sl@Train))"
    , "(declare-const loc (pfun sl@Train sl@Blk))"
    , "(declare-const loc@prime (pfun sl@Train sl@Blk))"
    , "(declare-const plf (set sl@Blk))"
    , "(declare-const t sl@Train)"
    , "(declare-fun apply@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk)"
    , "               sl@Train )"
    , "             sl@Blk)"
    , "(declare-fun dom-rest@@sl@Train@@sl@Blk"
    , "             ( (set sl@Train)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun dom-subt@@sl@Train@@sl@Blk"
    , "             ( (set sl@Train)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun dom@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             (set sl@Train))"
    , "(declare-fun empty-fun@@sl@Train@@sl@Blk"
    , "             ()"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun finite@@sl@Blk ( (set sl@Blk) ) Bool)"
    , "(declare-fun finite@@sl@Train ( (set sl@Train) ) Bool)"
    , "(declare-fun injective@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             Bool)"
    , "(declare-fun mk-fun@@sl@Train@@sl@Blk"
    , "             (sl@Train sl@Blk)"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun mk-set@@sl@Blk (sl@Blk) (set sl@Blk))"
    , "(declare-fun mk-set@@sl@Train (sl@Train) (set sl@Train))"
    , "(declare-fun ovl@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun ran@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             (set sl@Blk))"
    , "(define-fun sl@Blk"
    , "            ()"
    , "            (set sl@Blk)"
    , "            ( (as const (set sl@Blk))"
    , "              true ))"
    , "(define-fun sl@Train"
    , "            ()"
    , "            (set sl@Train)"
    , "            ( (as const (set sl@Train))"
    , "              true ))"
    , "(define-fun compl@@sl@Blk"
    , "            ( (s1 (set sl@Blk)) )"
    , "            (set sl@Blk)"
    , "            ((_ map not) s1))"
    , "(define-fun compl@@sl@Train"
    , "            ( (s1 (set sl@Train)) )"
    , "            (set sl@Train)"
    , "            ((_ map not) s1))"
    , "(define-fun elem@@sl@Blk"
    , "            ( (x sl@Blk)"
    , "              (s1 (set sl@Blk)) )"
    , "            Bool"
    , "            (select s1 x))"
    , "(define-fun elem@@sl@Train"
    , "            ( (x sl@Train)"
    , "              (s1 (set sl@Train)) )"
    , "            Bool"
    , "            (select s1 x))"
    , "(define-fun empty-set@@sl@Blk"
    , "            ()"
    , "            (set sl@Blk)"
    , "            ( (as const (set sl@Blk))"
    , "              false ))"
    , "(define-fun empty-set@@sl@Train"
    , "            ()"
    , "            (set sl@Train)"
    , "            ( (as const (set sl@Train))"
    , "              false ))"
    , "(define-fun set-diff@@sl@Blk"
    , "            ( (s1 (set sl@Blk))"
    , "              (s2 (set sl@Blk)) )"
    , "            (set sl@Blk)"
    , "            (intersect s1 ((_ map not) s2)))"
    , "(define-fun set-diff@@sl@Train"
    , "            ( (s1 (set sl@Train))"
    , "              (s2 (set sl@Train)) )"
    , "            (set sl@Train)"
    , "            (intersect s1 ((_ map not) s2)))"
    , "(define-fun st-subset@@sl@Blk"
    , "            ( (s1 (set sl@Blk))"
    , "              (s2 (set sl@Blk)) )"
    , "            Bool"
    , "            (and (subset s1 s2) (not (= s1 s2))))"
    , "(define-fun st-subset@@sl@Train"
    , "            ( (s1 (set sl@Train))"
    , "              (s2 (set sl@Train)) )"
    , "            Bool"
    , "            (and (subset s1 s2) (not (= s1 s2))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                      (union (dom@@sl@Train@@sl@Blk f1)"
    , "                             (dom@@sl@Train@@sl@Blk f2)))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2)) ))))"
    , "(assert (= (dom@@sl@Train@@sl@Blk empty-fun@@sl@Train@@sl@Blk)"
    , "           empty-set@@sl@Train))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                      (mk-set@@sl@Train x))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f2))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                          (apply@@sl@Train@@sl@Blk f2 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                            (not (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f2))))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))"
    , "                      (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (apply@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y) x)"
    , "                      y)"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (elem@@sl@Train x s1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x"
    , "                                       (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (x sl@Train) )"
    , "                (! (= (select empty-fun@@sl@Train@@sl@Blk x)"
    , "                      (as Nothing (Maybe sl@Blk)))"
    , "                   :pattern"
    , "                   ( (select empty-fun@@sl@Train@@sl@Blk x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (x2 sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (select (mk-fun@@sl@Train@@sl@Blk x y) x2)"
    , "                      (ite (= x x2) (Just y) (as Nothing (Maybe sl@Blk))))"
    , "                   :pattern"
    , "                   ( (select (mk-fun@@sl@Train@@sl@Blk x y) x2) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (select (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                      (ite (= (select f2 x) (as Nothing (Maybe sl@Blk)))"
    , "                           (select f1 x)"
    , "                           (select f2 x)))"
    , "                   :pattern"
    , "                   ( (select (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (select (dom@@sl@Train@@sl@Blk f1) x)"
    , "                      (not (= (select f1 x) (as Nothing (Maybe sl@Blk)))))"
    , "                   :pattern"
    , "                   ( (select (dom@@sl@Train@@sl@Blk f1) x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk)"
    , "                  (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                           (= (apply@@sl@Train@@sl@Blk f1 x) y))"
    , "                      (= (select f1 x) (Just y)))"
    , "                   :pattern"
    , "                   ())))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x2 sl@Train)"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (not (= x x2))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                                   x2)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x2)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                              x2) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                               x)"
    , "                      y)"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                              x) ))))"
    , "(assert (= (ran@@sl@Train@@sl@Blk empty-fun@@sl@Train@@sl@Blk)"
    , "           empty-set@@sl@Blk))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (y sl@Blk) )"
    , "                (! (= (elem@@sl@Blk y (ran@@sl@Train@@sl@Blk f1))"
    , "                      (exists ( (x sl@Train) )"
    , "                              (and true"
    , "                                   (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                                        (= (apply@@sl@Train@@sl@Blk f1 x) y)))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk y (ran@@sl@Train@@sl@Blk f1)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (ran@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                      (mk-set@@sl@Blk y))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (subset (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                           (union (ran@@sl@Train@@sl@Blk f1)"
    , "                                  (ran@@sl@Train@@sl@Blk f2)))"
    , "                   :pattern"
    , "                   ( (subset (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                             (union (ran@@sl@Train@@sl@Blk f1)"
    , "                                    (ran@@sl@Train@@sl@Blk f2))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (injective@@sl@Train@@sl@Blk f1)"
    , "                      (forall ( (x sl@Train)"
    , "                                (x2 sl@Train) )"
    , "                              (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                                       (elem@@sl@Train x2 (dom@@sl@Train@@sl@Blk f1)))"
    , "                                  (=> (= (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                         (apply@@sl@Train@@sl@Blk f1 x2))"
    , "                                      (= x x2)))))"
    , "                   :pattern"
    , "                   ( (injective@@sl@Train@@sl@Blk f1) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (injective@@sl@Train@@sl@Blk f1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1))"
    , "                          (set-diff@@sl@Blk (ran@@sl@Train@@sl@Blk f1)"
    , "                                            (mk-set@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (x2 sl@Train) )"
    , "                (! (=> (and (not (= x x2))"
    , "                            (elem@@sl@Train x2 (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                                   x2)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x2)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                              x2) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                                   x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                              x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (and (not (elem@@sl@Train x s1))"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (and (elem@@sl@Train x s1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk f1)))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk f1)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (elem@@sl@Train x"
    , "                                       (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (elem@@sl@Train x (intersect (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                            (injective@@sl@Train@@sl@Blk f1))"
    , "                       (= (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y)))"
    , "                          (union (set-diff@@sl@Blk (ran@@sl@Train@@sl@Blk f1)"
    , "                                                   (mk-set@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                                 (mk-set@@sl@Blk y))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (not (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y)))"
    , "                          (union (ran@@sl@Train@@sl@Blk f1) (mk-set@@sl@Blk y))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))) ))))"
    , "(assert (forall ( (x sl@Blk)"
    , "                  (y sl@Blk) )"
    , "                (! (= (elem@@sl@Blk x (mk-set@@sl@Blk y)) (= x y))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk x (mk-set@@sl@Blk y)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Train) )"
    , "                (! (= (elem@@sl@Train x (mk-set@@sl@Train y)) (= x y))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Train x (mk-set@@sl@Train y)) ))))"
    , "(assert (not (exists ( (t@param sl@Train) )"
    , "                     (and true"
    , "                          (and (=> (and (= in@prime"
    , "                                           (set-diff@@sl@Train in (mk-set@@sl@Train t@param)))"
    , "                                        (= loc@prime"
    , "                                           (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train t@param) loc))"
    , "                                        (elem@@sl@Train t@param in)"
    , "                                        (= (apply@@sl@Train@@sl@Blk loc t@param) ext)"
    , "                                        (elem@@sl@Train t@param in)"
    , "                                        (= (apply@@sl@Train@@sl@Blk loc t@param) ext))"
    , "                                   (=> (and (elem@@sl@Train t in)"
    , "                                            (= (apply@@sl@Train@@sl@Blk loc t) ext))"
    , "                                       (not (and (elem@@sl@Train t in@prime)"
    , "                                                 (= (apply@@sl@Train@@sl@Blk loc@prime t) ext)))))"
    , "                               (=> (and (elem@@sl@Train t in)"
    , "                                        (= (apply@@sl@Train@@sl@Blk loc t) ext))"
    , "                                   (and (elem@@sl@Train t@param in)"
    , "                                        (= (apply@@sl@Train@@sl@Blk loc t@param) ext))))))))"
    , "; asm0"
    , "(assert (and (not (elem@@sl@Blk ext plf)) (not (= ext ent))))"
    , "; asm1"
    , "(assert (forall ( (b sl@Blk) )"
    , "                (! (= (elem@@sl@Blk b sl@Blk)"
    , "                      (or (elem@@sl@Blk b plf) (= b ent) (= b ext)))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk b sl@Blk) ))))"
    , "; asm2"
    , "(assert (exists ( (b sl@Blk) ) (and true (elem@@sl@Blk b plf))))"
    , "; asm3"
    , "(assert (not (elem@@sl@Blk ent plf)))"
    , "; asm7"
    , "(assert (and (= (union (mk-set@@sl@Blk ext) plf)"
    , "                (compl@@sl@Blk (mk-set@@sl@Blk ent)))"
    , "             (= (union (mk-set@@sl@Blk ent) plf)"
    , "                (compl@@sl@Blk (mk-set@@sl@Blk ext)))"
    , "             (= (union (mk-set@@sl@Blk ext) (mk-set@@sl@Blk ent))"
    , "                (compl@@sl@Blk plf))))"
    , "; inv0"
    , "(assert (= (dom@@sl@Train@@sl@Blk loc) in))"
    , "; m2:inv0"
    , "(assert (injective@@sl@Train@@sl@Blk loc))"
    , "(assert (not (exists ( (t@param sl@Train) )"
    , "                     (and true"
    , "                          (and (=> (and (= in@prime"
    , "                                           (set-diff@@sl@Train in (mk-set@@sl@Train t@param)))"
    , "                                        (= loc@prime"
    , "                                           (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train t@param) loc))"
    , "                                        (elem@@sl@Train t@param in)"
    , "                                        (= (apply@@sl@Train@@sl@Blk loc t@param) ext)"
    , "                                        (elem@@sl@Train t@param in)"
    , "                                        (= (apply@@sl@Train@@sl@Blk loc t@param) ext))"
    , "                                   (=> (and (elem@@sl@Train t in)"
    , "                                            (= (apply@@sl@Train@@sl@Blk loc t) ext))"
    , "                                       (not (and (elem@@sl@Train t in@prime)"
    , "                                                 (= (apply@@sl@Train@@sl@Blk loc@prime t) ext)))))"
    , "                               (=> (and (elem@@sl@Train t in)"
    , "                                        (= (apply@@sl@Train@@sl@Blk loc t) ext))"
    , "                                   (and (elem@@sl@Train t@param in)"
    , "                                        (= (apply@@sl@Train@@sl@Blk loc t@param) ext))))))))"
    , "(check-sat-using (or-else (then qe smt)"
    , "                          (then simplify smt)"
    , "                          (then skip smt)"
    , "                          (then (using-params simplify :expand-power true) smt)))"
    ]

case8 :: IO String
case8 = proof_obligation path0 "m3/m1:moveout/SCH/m3/2/REF/delay/saf/rhs" 3

result8 :: String
result8 = unlines
    [ "(declare-datatypes (a) ( (Maybe (Just (fromJust a)) Nothing) ))"
    , "(declare-datatypes () ( (Null null) ))"
    , "(declare-datatypes (a b) ( (Pair (pair (first a) (second b))) ))"
    , "(declare-sort sl@Blk 0)"
    , "; comment: we don't need to declare the sort Bool"
    , "; comment: we don't need to declare the sort Int"
    , "; comment: we don't need to declare the sort Real"
    , "(declare-sort sl@Train 0)"
    , "(define-sort pfun (a b) (Array a (Maybe b)))"
    , "(define-sort set (a) (Array a Bool))"
    , "(declare-const ent sl@Blk)"
    , "(declare-const ext sl@Blk)"
    , "(declare-const in (set sl@Train))"
    , "(declare-const in@prime (set sl@Train))"
    , "(declare-const isgn Bool)"
    , "(declare-const isgn@prime Bool)"
    , "(declare-const loc (pfun sl@Train sl@Blk))"
    , "(declare-const loc@prime (pfun sl@Train sl@Blk))"
    , "(declare-const osgn (set sl@Blk))"
    , "(declare-const osgn@prime (set sl@Blk))"
    , "(declare-const plf (set sl@Blk))"
    , "(declare-const t sl@Train)"
    , "(declare-const t0 sl@Train)"
    , "(declare-fun apply@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk)"
    , "               sl@Train )"
    , "             sl@Blk)"
    , "(declare-fun dom-rest@@sl@Train@@sl@Blk"
    , "             ( (set sl@Train)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun dom-subt@@sl@Train@@sl@Blk"
    , "             ( (set sl@Train)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun dom@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             (set sl@Train))"
    , "(declare-fun empty-fun@@sl@Train@@sl@Blk"
    , "             ()"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun finite@@sl@Blk ( (set sl@Blk) ) Bool)"
    , "(declare-fun finite@@sl@Train ( (set sl@Train) ) Bool)"
    , "(declare-fun injective@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             Bool)"
    , "(declare-fun mk-fun@@sl@Train@@sl@Blk"
    , "             (sl@Train sl@Blk)"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun mk-set@@sl@Blk (sl@Blk) (set sl@Blk))"
    , "(declare-fun mk-set@@sl@Train (sl@Train) (set sl@Train))"
    , "(declare-fun ovl@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun ran@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             (set sl@Blk))"
    , "(define-fun sl@Blk"
    , "            ()"
    , "            (set sl@Blk)"
    , "            ( (as const (set sl@Blk))"
    , "              true ))"
    , "(define-fun sl@Train"
    , "            ()"
    , "            (set sl@Train)"
    , "            ( (as const (set sl@Train))"
    , "              true ))"
    , "(define-fun compl@@sl@Blk"
    , "            ( (s1 (set sl@Blk)) )"
    , "            (set sl@Blk)"
    , "            ((_ map not) s1))"
    , "(define-fun compl@@sl@Train"
    , "            ( (s1 (set sl@Train)) )"
    , "            (set sl@Train)"
    , "            ((_ map not) s1))"
    , "(define-fun elem@@sl@Blk"
    , "            ( (x sl@Blk)"
    , "              (s1 (set sl@Blk)) )"
    , "            Bool"
    , "            (select s1 x))"
    , "(define-fun elem@@sl@Train"
    , "            ( (x sl@Train)"
    , "              (s1 (set sl@Train)) )"
    , "            Bool"
    , "            (select s1 x))"
    , "(define-fun empty-set@@sl@Blk"
    , "            ()"
    , "            (set sl@Blk)"
    , "            ( (as const (set sl@Blk))"
    , "              false ))"
    , "(define-fun empty-set@@sl@Train"
    , "            ()"
    , "            (set sl@Train)"
    , "            ( (as const (set sl@Train))"
    , "              false ))"
    , "(define-fun set-diff@@sl@Blk"
    , "            ( (s1 (set sl@Blk))"
    , "              (s2 (set sl@Blk)) )"
    , "            (set sl@Blk)"
    , "            (intersect s1 ((_ map not) s2)))"
    , "(define-fun set-diff@@sl@Train"
    , "            ( (s1 (set sl@Train))"
    , "              (s2 (set sl@Train)) )"
    , "            (set sl@Train)"
    , "            (intersect s1 ((_ map not) s2)))"
    , "(define-fun st-subset@@sl@Blk"
    , "            ( (s1 (set sl@Blk))"
    , "              (s2 (set sl@Blk)) )"
    , "            Bool"
    , "            (and (subset s1 s2) (not (= s1 s2))))"
    , "(define-fun st-subset@@sl@Train"
    , "            ( (s1 (set sl@Train))"
    , "              (s2 (set sl@Train)) )"
    , "            Bool"
    , "            (and (subset s1 s2) (not (= s1 s2))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                      (union (dom@@sl@Train@@sl@Blk f1)"
    , "                             (dom@@sl@Train@@sl@Blk f2)))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2)) ))))"
    , "(assert (= (dom@@sl@Train@@sl@Blk empty-fun@@sl@Train@@sl@Blk)"
    , "           empty-set@@sl@Train))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                      (mk-set@@sl@Train x))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f2))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                          (apply@@sl@Train@@sl@Blk f2 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                            (not (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f2))))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))"
    , "                      (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (apply@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y) x)"
    , "                      y)"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (elem@@sl@Train x s1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x"
    , "                                       (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (x sl@Train) )"
    , "                (! (= (select empty-fun@@sl@Train@@sl@Blk x)"
    , "                      (as Nothing (Maybe sl@Blk)))"
    , "                   :pattern"
    , "                   ( (select empty-fun@@sl@Train@@sl@Blk x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (x2 sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (select (mk-fun@@sl@Train@@sl@Blk x y) x2)"
    , "                      (ite (= x x2) (Just y) (as Nothing (Maybe sl@Blk))))"
    , "                   :pattern"
    , "                   ( (select (mk-fun@@sl@Train@@sl@Blk x y) x2) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (select (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                      (ite (= (select f2 x) (as Nothing (Maybe sl@Blk)))"
    , "                           (select f1 x)"
    , "                           (select f2 x)))"
    , "                   :pattern"
    , "                   ( (select (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (select (dom@@sl@Train@@sl@Blk f1) x)"
    , "                      (not (= (select f1 x) (as Nothing (Maybe sl@Blk)))))"
    , "                   :pattern"
    , "                   ( (select (dom@@sl@Train@@sl@Blk f1) x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk)"
    , "                  (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                           (= (apply@@sl@Train@@sl@Blk f1 x) y))"
    , "                      (= (select f1 x) (Just y)))"
    , "                   :pattern"
    , "                   ())))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x2 sl@Train)"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (not (= x x2))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                                   x2)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x2)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                              x2) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                               x)"
    , "                      y)"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                              x) ))))"
    , "(assert (= (ran@@sl@Train@@sl@Blk empty-fun@@sl@Train@@sl@Blk)"
    , "           empty-set@@sl@Blk))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (y sl@Blk) )"
    , "                (! (= (elem@@sl@Blk y (ran@@sl@Train@@sl@Blk f1))"
    , "                      (exists ( (x sl@Train) )"
    , "                              (and true"
    , "                                   (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                                        (= (apply@@sl@Train@@sl@Blk f1 x) y)))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk y (ran@@sl@Train@@sl@Blk f1)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (ran@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                      (mk-set@@sl@Blk y))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (subset (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                           (union (ran@@sl@Train@@sl@Blk f1)"
    , "                                  (ran@@sl@Train@@sl@Blk f2)))"
    , "                   :pattern"
    , "                   ( (subset (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                             (union (ran@@sl@Train@@sl@Blk f1)"
    , "                                    (ran@@sl@Train@@sl@Blk f2))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (injective@@sl@Train@@sl@Blk f1)"
    , "                      (forall ( (x sl@Train)"
    , "                                (x2 sl@Train) )"
    , "                              (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                                       (elem@@sl@Train x2 (dom@@sl@Train@@sl@Blk f1)))"
    , "                                  (=> (= (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                         (apply@@sl@Train@@sl@Blk f1 x2))"
    , "                                      (= x x2)))))"
    , "                   :pattern"
    , "                   ( (injective@@sl@Train@@sl@Blk f1) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (injective@@sl@Train@@sl@Blk f1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1))"
    , "                          (set-diff@@sl@Blk (ran@@sl@Train@@sl@Blk f1)"
    , "                                            (mk-set@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (x2 sl@Train) )"
    , "                (! (=> (and (not (= x x2))"
    , "                            (elem@@sl@Train x2 (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                                   x2)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x2)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                              x2) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                                   x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                              x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (and (not (elem@@sl@Train x s1))"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (and (elem@@sl@Train x s1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk f1)))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk f1)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (elem@@sl@Train x"
    , "                                       (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (elem@@sl@Train x (intersect (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                            (injective@@sl@Train@@sl@Blk f1))"
    , "                       (= (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y)))"
    , "                          (union (set-diff@@sl@Blk (ran@@sl@Train@@sl@Blk f1)"
    , "                                                   (mk-set@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                                 (mk-set@@sl@Blk y))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (not (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y)))"
    , "                          (union (ran@@sl@Train@@sl@Blk f1) (mk-set@@sl@Blk y))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))) ))))"
    , "(assert (forall ( (x sl@Blk)"
    , "                  (y sl@Blk) )"
    , "                (! (= (elem@@sl@Blk x (mk-set@@sl@Blk y)) (= x y))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk x (mk-set@@sl@Blk y)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Train) )"
    , "                (! (= (elem@@sl@Train x (mk-set@@sl@Train y)) (= x y))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Train x (mk-set@@sl@Train y)) ))))"
    , "(assert (not (forall ( (t sl@Train)"
    , "                       (t sl@Train) )"
    , "                     (=> true"
    , "                         (=> (elem@@sl@Blk ext (ran@@sl@Train@@sl@Blk loc))"
    , "                             (not (and (elem@@sl@Train t in)"
    , "                                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk loc t) plf))))))))"
    , "(assert (not (forall ( (t sl@Train) )"
    , "                     (=> true"
    , "                         (=> (elem@@sl@Blk ext (ran@@sl@Train@@sl@Blk loc))"
    , "                             (not (and (elem@@sl@Train t in)"
    , "                                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk loc t) plf))))))))"
    , "; asm0"
    , "(assert (and (not (elem@@sl@Blk ext plf)) (not (= ext ent))))"
    , "; asm1"
    , "(assert (forall ( (b sl@Blk) )"
    , "                (! (= (elem@@sl@Blk b sl@Blk)"
    , "                      (or (elem@@sl@Blk b plf) (= b ent) (= b ext)))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk b sl@Blk) ))))"
    , "; asm2"
    , "(assert (exists ( (b sl@Blk) ) (and true (elem@@sl@Blk b plf))))"
    , "; asm3"
    , "(assert (not (elem@@sl@Blk ent plf)))"
    , "; asm7"
    , "(assert (and (= (union (mk-set@@sl@Blk ext) plf)"
    , "                (compl@@sl@Blk (mk-set@@sl@Blk ent)))"
    , "             (= (union (mk-set@@sl@Blk ent) plf)"
    , "                (compl@@sl@Blk (mk-set@@sl@Blk ext)))"
    , "             (= (union (mk-set@@sl@Blk ext) (mk-set@@sl@Blk ent))"
    , "                (compl@@sl@Blk plf))))"
    , "; inv0"
    , "(assert (= (dom@@sl@Train@@sl@Blk loc) in))"
    , "; m2:inv0"
    , "(assert (injective@@sl@Train@@sl@Blk loc))"
    , "; m3:inv0"
    , "(assert (subset osgn plf))"
    , "; m3:inv1"
    , "(assert (forall ( (p_0 sl@Blk)"
    , "                  (p_1 sl@Blk) )"
    , "                (! (=> (and (elem@@sl@Blk p_0 osgn) (elem@@sl@Blk p_1 osgn))"
    , "                       (= p_0 p_1))"
    , "                   :pattern"
    , "                   ())))"
    , "; m3:inv2"
    , "(assert (=> (elem@@sl@Blk ext (ran@@sl@Train@@sl@Blk loc))"
    , "            (= osgn empty-set@@sl@Blk)))"
    , "; m3:inv3"
    , "(assert (subset osgn (ran@@sl@Train@@sl@Blk loc)))"
    , "(assert (not (=> (elem@@sl@Blk ext (ran@@sl@Train@@sl@Blk loc))"
    , "                 (not (and (elem@@sl@Train t0 in)"
    , "                           (elem@@sl@Blk (apply@@sl@Train@@sl@Blk loc t0) plf))))))"
    , "(check-sat-using (or-else (then qe smt)"
    , "                          (then simplify smt)"
    , "                          (then skip smt)"
    , "                          (then (using-params simplify :expand-power true) smt)))"
    ]

case9 :: IO String
case9 = proof_obligation path0 "m3/m3:tr0/TR/WD/witness/p" 3

result9 :: String
result9 = unlines
    [ "(declare-datatypes (a) ( (Maybe (Just (fromJust a)) Nothing) ))"
    , "(declare-datatypes () ( (Null null) ))"
    , "(declare-datatypes (a b) ( (Pair (pair (first a) (second b))) ))"
    , "(declare-sort sl@Blk 0)"
    , "; comment: we don't need to declare the sort Bool"
    , "; comment: we don't need to declare the sort Int"
    , "; comment: we don't need to declare the sort Real"
    , "(declare-sort sl@Train 0)"
    , "(define-sort pfun (a b) (Array a (Maybe b)))"
    , "(define-sort set (a) (Array a Bool))"
    , "(declare-const ent sl@Blk)"
    , "(declare-const ext sl@Blk)"
    , "(declare-const in (set sl@Train))"
    , "(declare-const in@prime (set sl@Train))"
    , "(declare-const isgn Bool)"
    , "(declare-const isgn@prime Bool)"
    , "(declare-const loc (pfun sl@Train sl@Blk))"
    , "(declare-const loc@prime (pfun sl@Train sl@Blk))"
    , "(declare-const osgn (set sl@Blk))"
    , "(declare-const osgn@prime (set sl@Blk))"
    , "(declare-const p@prime sl@Blk)"
    , "(declare-const plf (set sl@Blk))"
    , "(declare-const t sl@Train)"
    , "(declare-fun apply@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk)"
    , "               sl@Train )"
    , "             sl@Blk)"
    , "(declare-fun dom-rest@@sl@Train@@sl@Blk"
    , "             ( (set sl@Train)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun dom-subt@@sl@Train@@sl@Blk"
    , "             ( (set sl@Train)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun dom@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             (set sl@Train))"
    , "(declare-fun empty-fun@@sl@Train@@sl@Blk"
    , "             ()"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun finite@@sl@Blk ( (set sl@Blk) ) Bool)"
    , "(declare-fun finite@@sl@Train ( (set sl@Train) ) Bool)"
    , "(declare-fun injective@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             Bool)"
    , "(declare-fun mk-fun@@sl@Train@@sl@Blk"
    , "             (sl@Train sl@Blk)"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun mk-set@@sl@Blk (sl@Blk) (set sl@Blk))"
    , "(declare-fun mk-set@@sl@Train (sl@Train) (set sl@Train))"
    , "(declare-fun ovl@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk)"
    , "               (pfun sl@Train sl@Blk) )"
    , "             (pfun sl@Train sl@Blk))"
    , "(declare-fun ran@@sl@Train@@sl@Blk"
    , "             ( (pfun sl@Train sl@Blk) )"
    , "             (set sl@Blk))"
    , "(define-fun sl@Blk"
    , "            ()"
    , "            (set sl@Blk)"
    , "            ( (as const (set sl@Blk))"
    , "              true ))"
    , "(define-fun sl@Train"
    , "            ()"
    , "            (set sl@Train)"
    , "            ( (as const (set sl@Train))"
    , "              true ))"
    , "(define-fun compl@@sl@Blk"
    , "            ( (s1 (set sl@Blk)) )"
    , "            (set sl@Blk)"
    , "            ((_ map not) s1))"
    , "(define-fun compl@@sl@Train"
    , "            ( (s1 (set sl@Train)) )"
    , "            (set sl@Train)"
    , "            ((_ map not) s1))"
    , "(define-fun elem@@sl@Blk"
    , "            ( (x sl@Blk)"
    , "              (s1 (set sl@Blk)) )"
    , "            Bool"
    , "            (select s1 x))"
    , "(define-fun elem@@sl@Train"
    , "            ( (x sl@Train)"
    , "              (s1 (set sl@Train)) )"
    , "            Bool"
    , "            (select s1 x))"
    , "(define-fun empty-set@@sl@Blk"
    , "            ()"
    , "            (set sl@Blk)"
    , "            ( (as const (set sl@Blk))"
    , "              false ))"
    , "(define-fun empty-set@@sl@Train"
    , "            ()"
    , "            (set sl@Train)"
    , "            ( (as const (set sl@Train))"
    , "              false ))"
    , "(define-fun set-diff@@sl@Blk"
    , "            ( (s1 (set sl@Blk))"
    , "              (s2 (set sl@Blk)) )"
    , "            (set sl@Blk)"
    , "            (intersect s1 ((_ map not) s2)))"
    , "(define-fun set-diff@@sl@Train"
    , "            ( (s1 (set sl@Train))"
    , "              (s2 (set sl@Train)) )"
    , "            (set sl@Train)"
    , "            (intersect s1 ((_ map not) s2)))"
    , "(define-fun st-subset@@sl@Blk"
    , "            ( (s1 (set sl@Blk))"
    , "              (s2 (set sl@Blk)) )"
    , "            Bool"
    , "            (and (subset s1 s2) (not (= s1 s2))))"
    , "(define-fun st-subset@@sl@Train"
    , "            ( (s1 (set sl@Train))"
    , "              (s2 (set sl@Train)) )"
    , "            Bool"
    , "            (and (subset s1 s2) (not (= s1 s2))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                      (union (dom@@sl@Train@@sl@Blk f1)"
    , "                             (dom@@sl@Train@@sl@Blk f2)))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2)) ))))"
    , "(assert (= (dom@@sl@Train@@sl@Blk empty-fun@@sl@Train@@sl@Blk)"
    , "           empty-set@@sl@Train))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                      (mk-set@@sl@Train x))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f2))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                          (apply@@sl@Train@@sl@Blk f2 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                            (not (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f2))))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (= (dom@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))"
    , "                      (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                   :pattern"
    , "                   ( (dom@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (apply@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y) x)"
    , "                      y)"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (elem@@sl@Train x s1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (s1 (set sl@Train))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x"
    , "                                       (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (x sl@Train) )"
    , "                (! (= (select empty-fun@@sl@Train@@sl@Blk x)"
    , "                      (as Nothing (Maybe sl@Blk)))"
    , "                   :pattern"
    , "                   ( (select empty-fun@@sl@Train@@sl@Blk x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (x2 sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (select (mk-fun@@sl@Train@@sl@Blk x y) x2)"
    , "                      (ite (= x x2) (Just y) (as Nothing (Maybe sl@Blk))))"
    , "                   :pattern"
    , "                   ( (select (mk-fun@@sl@Train@@sl@Blk x y) x2) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (select (ovl@@sl@Train@@sl@Blk f1 f2) x)"
    , "                      (ite (= (select f2 x) (as Nothing (Maybe sl@Blk)))"
    , "                           (select f1 x)"
    , "                           (select f2 x)))"
    , "                   :pattern"
    , "                   ( (select (ovl@@sl@Train@@sl@Blk f1 f2) x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (select (dom@@sl@Train@@sl@Blk f1) x)"
    , "                      (not (= (select f1 x) (as Nothing (Maybe sl@Blk)))))"
    , "                   :pattern"
    , "                   ( (select (dom@@sl@Train@@sl@Blk f1) x) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk)"
    , "                  (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                           (= (apply@@sl@Train@@sl@Blk f1 x) y))"
    , "                      (= (select f1 x) (Just y)))"
    , "                   :pattern"
    , "                   ())))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x2 sl@Train)"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (not (= x x2))"
    , "                       (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                                   x2)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x2)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                              x2) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                               x)"
    , "                      y)"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                                              x) ))))"
    , "(assert (= (ran@@sl@Train@@sl@Blk empty-fun@@sl@Train@@sl@Blk)"
    , "           empty-set@@sl@Blk))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (y sl@Blk) )"
    , "                (! (= (elem@@sl@Blk y (ran@@sl@Train@@sl@Blk f1))"
    , "                      (exists ( (x sl@Train) )"
    , "                              (and true"
    , "                                   (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                                        (= (apply@@sl@Train@@sl@Blk f1 x) y)))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk y (ran@@sl@Train@@sl@Blk f1)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (= (ran@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y))"
    , "                      (mk-set@@sl@Blk y))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (mk-fun@@sl@Train@@sl@Blk x y)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (f2 (pfun sl@Train sl@Blk)) )"
    , "                (! (subset (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                           (union (ran@@sl@Train@@sl@Blk f1)"
    , "                                  (ran@@sl@Train@@sl@Blk f2)))"
    , "                   :pattern"
    , "                   ( (subset (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 f2))"
    , "                             (union (ran@@sl@Train@@sl@Blk f1)"
    , "                                    (ran@@sl@Train@@sl@Blk f2))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk)) )"
    , "                (! (= (injective@@sl@Train@@sl@Blk f1)"
    , "                      (forall ( (x sl@Train)"
    , "                                (x2 sl@Train) )"
    , "                              (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                                       (elem@@sl@Train x2 (dom@@sl@Train@@sl@Blk f1)))"
    , "                                  (=> (= (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                         (apply@@sl@Train@@sl@Blk f1 x2))"
    , "                                      (= x x2)))))"
    , "                   :pattern"
    , "                   ( (injective@@sl@Train@@sl@Blk f1) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (and (injective@@sl@Train@@sl@Blk f1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1))"
    , "                          (set-diff@@sl@Blk (ran@@sl@Train@@sl@Blk f1)"
    , "                                            (mk-set@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (x2 sl@Train) )"
    , "                (! (=> (and (not (= x x2))"
    , "                            (elem@@sl@Train x2 (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                                   x2)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x2)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                              x2) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                                   x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk (mk-set@@sl@Train x) f1)"
    , "                                              x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (and (not (elem@@sl@Train x s1))"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (and (elem@@sl@Train x s1)"
    , "                            (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x)"
    , "                          (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                   :pattern"
    , "                   ( (apply@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1) x) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train) )"
    , "                (! (=> (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk f1)))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk f1)) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (elem@@sl@Train x"
    , "                                       (set-diff@@sl@Train (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk (dom-subt@@sl@Train@@sl@Blk s1 f1))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (s1 (set sl@Train)) )"
    , "                (! (=> (elem@@sl@Train x (intersect (dom@@sl@Train@@sl@Blk f1) s1))"
    , "                       (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                     (ran@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1))))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)"
    , "                                   (ran@@sl@Train@@sl@Blk (dom-rest@@sl@Train@@sl@Blk s1 f1))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (and (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1))"
    , "                            (injective@@sl@Train@@sl@Blk f1))"
    , "                       (= (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y)))"
    , "                          (union (set-diff@@sl@Blk (ran@@sl@Train@@sl@Blk f1)"
    , "                                                   (mk-set@@sl@Blk (apply@@sl@Train@@sl@Blk f1 x)))"
    , "                                 (mk-set@@sl@Blk y))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))) ))))"
    , "(assert (forall ( (f1 (pfun sl@Train sl@Blk))"
    , "                  (x sl@Train)"
    , "                  (y sl@Blk) )"
    , "                (! (=> (not (elem@@sl@Train x (dom@@sl@Train@@sl@Blk f1)))"
    , "                       (= (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y)))"
    , "                          (union (ran@@sl@Train@@sl@Blk f1) (mk-set@@sl@Blk y))))"
    , "                   :pattern"
    , "                   ( (ran@@sl@Train@@sl@Blk (ovl@@sl@Train@@sl@Blk f1 (mk-fun@@sl@Train@@sl@Blk x y))) ))))"
    , "(assert (forall ( (x sl@Blk)"
    , "                  (y sl@Blk) )"
    , "                (! (= (elem@@sl@Blk x (mk-set@@sl@Blk y)) (= x y))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk x (mk-set@@sl@Blk y)) ))))"
    , "(assert (forall ( (x sl@Train)"
    , "                  (y sl@Train) )"
    , "                (! (= (elem@@sl@Train x (mk-set@@sl@Train y)) (= x y))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Train x (mk-set@@sl@Train y)) ))))"
    , "; asm0"
    , "(assert (and (not (elem@@sl@Blk ext plf)) (not (= ext ent))))"
    , "; asm1"
    , "(assert (forall ( (b sl@Blk) )"
    , "                (! (= (elem@@sl@Blk b sl@Blk)"
    , "                      (or (elem@@sl@Blk b plf) (= b ent) (= b ext)))"
    , "                   :pattern"
    , "                   ( (elem@@sl@Blk b sl@Blk) ))))"
    , "; asm2"
    , "(assert (exists ( (b sl@Blk) ) (and true (elem@@sl@Blk b plf))))"
    , "; asm3"
    , "(assert (not (elem@@sl@Blk ent plf)))"
    , "; asm7"
    , "(assert (and (= (union (mk-set@@sl@Blk ext) plf)"
    , "                (compl@@sl@Blk (mk-set@@sl@Blk ent)))"
    , "             (= (union (mk-set@@sl@Blk ent) plf)"
    , "                (compl@@sl@Blk (mk-set@@sl@Blk ext)))"
    , "             (= (union (mk-set@@sl@Blk ext) (mk-set@@sl@Blk ent))"
    , "                (compl@@sl@Blk plf))))"
    , "; inv0"
    , "(assert (= (dom@@sl@Train@@sl@Blk loc) in))"
    , "; m2:inv0"
    , "(assert (injective@@sl@Train@@sl@Blk loc))"
    , "; m3:inv0"
    , "(assert (subset osgn plf))"
    , "; m3:inv1"
    , "(assert (forall ( (p_0 sl@Blk)"
    , "                  (p_1 sl@Blk) )"
    , "                (! (=> (and (elem@@sl@Blk p_0 osgn) (elem@@sl@Blk p_1 osgn))"
    , "                       (= p_0 p_1))"
    , "                   :pattern"
    , "                   ())))"
    , "; m3:inv2"
    , "(assert (=> (elem@@sl@Blk ext (ran@@sl@Train@@sl@Blk loc))"
    , "            (= osgn empty-set@@sl@Blk)))"
    , "; m3:inv3"
    , "(assert (subset osgn (ran@@sl@Train@@sl@Blk loc)))"
    , "; m3:tr0"
    , "(assert (and (elem@@sl@Train t in)"
    , "             (elem@@sl@Blk (apply@@sl@Train@@sl@Blk loc t)"
    , "                           (set-diff@@sl@Blk plf osgn))))"
    , "(assert (not (elem@@sl@Train t (dom@@sl@Train@@sl@Blk loc))))"
    , "(check-sat-using (or-else (then qe smt)"
    , "                          (then simplify smt)"
    , "                          (then skip smt)"
    , "                          (then (using-params simplify :expand-power true) smt)))"
    ]
